---
import { Image } from 'astro:assets';
const { id, slug, image, title, price, colors } = Astro.props;
---
<a href={`/products/${slug}`}>
  <div class="bg-card rounded-lg p-4 hover:bg-card-hover transition-colors cursor-pointer h-full flex flex-col">
    <div class="aspect-square bg-muted rounded-lg mb-3 overflow-hidden">
      <Image 
        src={image} 
        alt={title}
        widths={[200, 400, 800]}
        sizes="(max-width: 768px) 200px, 400px"
        format="webp"
        class="w-full h-full object-cover"
        transition:name={`product-image-${id}`}
      />
    </div>
    
    <div class="flex-grow">
      <h3 class="text-sm font-medium text-card-foreground mb-1 line-clamp-2">
        {title}
      </h3>
      
      <p class="text-price font-medium text-sm mb-2">{price}</p>
    </div>
    
    {colors && (
      <div class="flex space-x-1 mt-auto">
        {colors.map((color) => (
          <div 
            class="w-3 h-3 rounded-full border border-border"
            style={`background-color: ${color}`}
          />
        ))}
      </div>
    )}
  </div>
</a>